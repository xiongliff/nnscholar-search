# NNScholar - 医学文献智能检索与分析系统

NNScholar 是一个基于 Python 开发的医学文献智能检索与分析系统，集成了 PubMed API 和 DeepSeek AI，为医学研究人员提供便捷的文献检索和分析工具。

## 主要功能

系统主要支持以下四个方向的文献检索与分析：

1. 综述初稿撰写辅助
2. 文献泛读
3. 段落参考文献智能匹配
4. 研究热点分析

### 1. 文献检索模块

#### 1.1 单句模式
- 支持中英文自然语言输入
- DeepSeek AI 自动转换为 PubMed 检索策略
- 支持检索策略手动修改和优化
- 文献分区筛选功能：
  - JCR分区筛选（Q1-Q4）
  - 中科院分区筛选（1-4区）
  - 影响因子范围筛选
  - 发表年份筛选
- 自动生成分析文件（位于 exports 文件夹）：
  - 初始检索结果的 Excel 表格和 Word 文档
  - 筛选后结果的 Excel 表格和 Word 文档
  - 文献分析报告
  - 文献清单

#### 1.2 段落模式
- 适用于已撰写的前言或基金背景
- 自动分句并为每句话匹配权威参考文献
- 智能关联度排序
- 支持批量文献引用
- 权威参考文献背书：
  - 优先匹配高影响因子期刊文献
  - 优先匹配高分区期刊文献（JCR Q1/Q2, 中科院1/2区）
  - 优先匹配近五年高被引文献
  - 智能识别经典文献和综述性文献
  - 自动标注各文献的分区和影响因子信息

### 文献筛选功能

1. 期刊分区筛选
   - JCR分区筛选：支持选择Q1-Q4任意组合
   - 中科院分区筛选：支持选择1-4区任意组合
   - 可同时应用两种分区体系进行筛选
   - 分区信息自动更新

2. 影响因子筛选
   - 支持设置最低影响因子阈值
   - 影响因子信息实时更新
   - 支持按影响因子范围筛选

3. 年份筛选
   - 支持设置起止年份
   - 支持限定最近N年
   - 经典文献智能识别

4. 智能排序
   - 综合评分排序：
     - 文献相关度权重（70%）
     - 期刊影响力权重（30%）
   - 引用量加权
   - 时效性加权

5. 筛选结果分析
   - 显示各筛选条件的文献数量变化
   - 生成筛选过程统计报告
   - 自动分析筛选后文献的分布特点

### 权威参考文献背书系统

1. 文献质量评估
   - 期刊等级评估：
     - JCR分区评估
     - 中科院分区评估
     - 影响因子评估
   - 文献影响力评估：
     - 引用量分析
     - 作者影响力分析
     - 机构影响力分析

2. 智能匹配策略
   - 相关度智能计算：
     - 标题关键词匹配
     - 摘要内容分析
     - 主题相关度评估
   - 文献权威性评估：
     - 期刊影响力
     - 作者影响力
     - 发表时间
     - 引用情况

3. 背书等级划分
   - 顶级背书：
     - JCR Q1/Q2期刊
     - 中科院1/2区期刊
     - 高影响因子期刊
   - 经典背书：
     - 领域经典文献
     - 高被引文献
     - 权威综述
   - 时效性背书：
     - 最新研究进展
     - 近五年高质量文献

4. 自动化推荐
   - 为每个观点匹配最适合的参考文献
   - 提供多个备选文献
   - 自动生成参考文献引用说明
   - 导出完整的文献信息

### 2. 热点分析模块

#### 2.1 期刊热点分析
- 分析特定期刊的近年发文热点趋势
- 支持添加关键词筛选特定研究领域
- 自动生成可视化分析：
  - 研究热点热力图
  - 词云图
  - 趋势变化图

#### 2.2 作者分析
- 自动识别领域内高产作者
- 分析作者发文特点：
  - 总发文量
  - 第一作者文章数
  - 通讯作者文章数
  - 发文年份分布

## 系统特点

1. 智能检索
   - 集成 DeepSeek AI 进行检索策略优化
   - 支持中英文混合输入
   - 检索策略可视化和手动优化

2. 自动分析
   - 文献相关度智能评分
   - 期刊影响因子和分区信息自动关联
   - 多维度文献分析报告

3. 数据导出
   - 自动生成 Excel 和 Word 格式文献清单
   - 支持批量导出和分析
   - 分析报告自动生成

4. 可视化展示
   - 研究热点热力图
   - 词云图
   - 趋势分析图表

## 使用说明

### 环境要求
- Python 3.8+
- Flask
- pandas
- matplotlib
- seaborn
- nltk
- beautifulsoup4

### 安装步骤
1. 克隆项目到本地
2. 安装依赖：`pip install -r requirements.txt`
3. 配置环境变量：
   - 创建 `.env` 文件
   - 设置必要的 API 密钥：
     ```
     DEEPSEEK_API_KEY=your_key
     PUBMED_API_KEY=your_key
     PUBMED_EMAIL=your_email
     ```
4. 运行应用：`python app.py`

### 使用流程

1. 文献检索
   - 选择检索模式（单句/段落）
   - 输入检索内容
   - 查看和优化检索策略
   - 执行检索
   - 在 exports 文件夹查看生成的分析文件

2. 热点分析
   - 输入目标期刊名称
   - 设置分析时间范围
   - 可选：添加关键词
   - 查看分析结果和可视化图表

## 注意事项

1. 首次使用需要配置 API 密钥
2. 检索结果自动保存在 exports 文件夹
3. 建议定期清理 exports 文件夹以节省存储空间
4. 系统支持的最大检索结果数为 3000 篇

## 开发者

本项目由华中科技大学同济医学院附属同济医院的刘远康博士开发，免费开源。
如有部署或其他需求，请联系微信：Blackbirdflyinthesky

## 功能特点

- 智能文献检索
  - 使用PubMed API进行文献检索
  - 支持智能检索策略生成
  - 支持检索策略的手动修改和优化
  
- 文献分析
  - 自动分析文献的年份分布
  - 智能计算文献相关性得分
  - 支持多维度筛选（年份、影响因子、JCR分区、CAS分区）
  
- 热点分析
  - 期刊热点主题分析
  - 研究热点趋势可视化
  - 热点作者统计分析
  - 生成热力图展示研究热度
  
- 数据导出
  - 支持Excel格式导出（包含详细的文献信息）
  - 支持Word文档导出（包含格式化的文献报告）
  - 自动导出初始检索结果和筛选后结果
  
- 期刊指标
  - 自动获取期刊的影响因子
  - 显示JCR分区信息
  - 显示中科院分区信息

## 安装说明

1. 安装Python 3.8或更高版本
2. 克隆或下载本项目
3. 安装依赖包：
```bash
pip install -r requirements.txt
```

## 配置说明

1. 在项目根目录创建`.env`文件，添加以下配置：
```
DEEPSEEK_API_KEY=your_deepseek_api_key
PUBMED_API_KEY=your_pubmed_api_key
PUBMED_EMAIL=your_email
TOOL_NAME=nnscholar_pubmed
PUBMED_API_URL=https://eutils.ncbi.nlm.nih.gov/entrez/eutils/
```

2. 替换以下配置项：
- `DEEPSEEK_API_KEY`：你的DeepSeek API密钥（用于生成智能检索策略）
- `PUBMED_API_KEY`：你的PubMed API密钥（用于文献检索）
- `PUBMED_EMAIL`：你的邮箱地址（PubMed API要求）

## 使用说明

1. 启动应用：
```bash
python app.py
```

2. 访问Web界面：
   - 打开浏览器访问 `http://localhost:5000`
   - 在文本框中输入要检索的内容
   - 设置筛选条件（可选）：
     - 影响因子阈值
     - JCR分区要求
     - 中科院分区要求
     - 每句话的最大文献数量

3. API接口：
   - 搜索接口：`POST /api/search`
     ```json
     {
       "text": "要检索的文本内容",
       "filters": {
         "min_if": 3.0,
         "jcr_quartile": ["Q1", "Q2"],
         "cas_quartile": ["1", "2"],
         "papers_limit": 10
       }
     }
     ```
   - 筛选接口：`POST /api/filter`
     ```json
     {
       "papers": [...],
       "filters": {
         "min_if": 3.0,
         "jcr_quartile": ["Q1", "Q2"],
         "cas_quartile": ["1", "2"]
       }
     }
     ```

## 主要功能说明

1. 文本智能分析
   - 使用NLTK进行文本分句
   - 通过DeepSeek AI优化分句结果
   - 保持每个短句的完整语义

2. 文献检索
   - 智能生成PubMed检索策略
   - 支持MeSH术语和Title/Abstract检索
   - 自动扩展检索范围以提高召回率

3. 文献筛选
   - 支持基于影响因子的筛选
   - 支持基于期刊分区的筛选
   - 文献相关性评分和排序

4. 结果展示
   - 展示文献详细信息
   - 提供PubMed原文链接
   - 生成带有文献引用的标注文本

## 注意事项

1. API密钥安全
   - 请妥善保管API密钥
   - 不要将包含API密钥的配置文件提交到版本控制系统

2. 使用限制
   - 请遵守PubMed API的使用限制
   - 建议添加适当的请求延迟以避免触发限制

3. 错误处理
   - 系统会自动记录错误日志
   - 检查logs目录下的日志文件以排查问题
## 许可证

本项目采用学术许可证（Academic License）。

Academic License

Copyright (c) 2024 NNScholar

本软件及其相关文档（以下简称"软件"）仅供学术研究和教育目的使用。通过使用本软件，您同意以下条款：

1. 使用限制
   - 本软件仅限用于非商业性的学术研究和教育目的
   - 禁止将本软件用于任何商业用途
   - 禁止将本软件或其衍生作品进行销售或获取商业利益

2. 引用要求
   如果您在学术论文、报告或其他出版物中使用了本软件，请按以下格式引用：
   ```
   NNScholar. (2024). PubMed文献智能检索系统 [Computer software]. 
   https://github.com/luckylykkk/nnscholar-search
   ```

3. 免责声明
   本软件按"原样"提供，不提供任何明示或暗示的保证，包括但不限于对适销性、特定用途适用性和非侵权性的保证。在任何情况下，作者或版权持有人均不对任何索赔、损害或其他责任负责。

4. 衍生作品
   - 允许修改和改进本软件
   - 衍生作品必须同样采用本学术许可证
   - 衍生作品必须明确标注基于本软件开发并注明原始出处

5. 终止条款
   如果您违反本许可证的任何条款，您使用本软件的权利将自动终止。

6. 其他
   - 本许可证的解释和执行受中华人民共和国法律管辖
   - 本许可证的任何修改或豁免必须以书面形式作出并经双方签署

如有任何问题或需要额外授权，请联系：
- GitHub: https://github.com/luckylykkk
- Email: 599298622@qq.com
2. 访问应用：
- 打开浏览器访问 `http://localhost:5000`

3. 文献检索流程：
   - 输入检索关键词
   - 系统自动生成优化的检索策略
   - 可以根据需要修改检索策略
   - 执行检索获取文献列表
   - 使用筛选条件过滤文献
   - 导出所需的文献信息

4. 热点分析功能：
   - 选择目标期刊和时间范围
   - 可选择特定研究方向关键词
   - 系统自动分析热点主题和趋势
   - 生成热力图和趋势图
   - 展示高产作者和研究团队

5. 导出功能：
   - Excel导出：包含文献的详细信息，适合数据分析
   - Word导出：生成格式化的文献报告，适合阅读和分享
   - 系统会同时保存初始检索结果和筛选后的结果

## 文件结构

```
nnscholar-search-main/
├── app.py              # 主应用程序
├── analyze_papers.py   # 文献分析脚本
├── journal_analyzer.py # 期刊分析工具
├── requirements.txt    # 依赖包列表
├── .env               # 环境配置文件
├── data/              # 数据文件目录
│   └── journal_metrics/  # 期刊指标数据
├── exports/           # 导出文件目录
├── logs/              # 日志文件目录
├── static/            # 静态资源目录
│   └── images/        # 热力图等图像文件
└── templates/         # 模板文件目录
```

## 注意事项

1. 首次运行时会自动下载NLTK数据
2. 确保有稳定的网络连接
3. API密钥请妥善保管，不要泄露
4. 导出文件会自动保存在exports目录下
5. 日志文件会自动保存在logs目录下
6. 热力图等分析图表保存在static/images目录

## 常见问题

1. 如果遇到NLTK数据下载问题，可以手动下载并放置在正确的目录
2. 如果遇到API限制，请检查API密钥是否正确
3. 如果需要更改端口，可以在app.py中修改
4. 如果导出文件失败，请检查exports目录的权限
5. 如果热点分析图表不显示，检查static目录权限

## 更新日志

### 2024.02
- 添加了Word文档导出功能
- 优化了文献相关性计算
- 改进了检索策略生成
- 添加了更详细的筛选统计信息
- 新增期刊热点分析功能
- 添加热点主题可视化展示

## 许可证

MIT License

## 贡献指南

欢迎提交Issue和Pull Request来帮助改进项目。
